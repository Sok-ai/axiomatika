# Система оформления кредитов
## Описание
Это веб-приложение для управления заявками на кредит, разработанное в соответствии с требованиями задания. Приложение позволяет:

- Создавать профили клиентов с персональными и рабочими данными.
- Оформлять заявки на кредит с указанием желаемой суммы и цели кредита.
- Принимать решения по кредитам (одобрение или отклонение).
- Подписывать кредитные договоры.
- Просматривать списки клиентов, одобренных заявок и подписанных договоров.
- Искать клиентов по ФИО, телефону или паспорту.

Приложение построено на **Spring Boot** с использованием **Hibernate** и **PostgreSQL**, с минималистичным интерфейсом на основе HTML и Thymeleaf.

## Возможности

* Управление клиентами:
    - Создание клиентов с полями: ФИО, паспорт, пол, семейное положение, адреса проживания и регистрации, телефон, период занятости (в месяцах), должность, организация.
    - Поиск клиентов по ФИО, телефону или паспорту с использованием индексов для ускорения.
    - Просмотр списка всех клиентов.

* Заявки на кредит:
    - Оформление заявок с указанием желаемой суммы и цели кредита.
    - Создание заявок, привязанных к существующим клиентам.

* Решения по заявкам:
    - Указание статуса (одобрено/отклонено), одобренной суммы и срока (в месяцах).

* Кредитные договоры:
    - Подписание договоров для одобренных заявок с сохранением даты подписи и статуса.

* Отчеты:
    - Просмотр всех одобренных заявок.
    - Просмотр всех подписанных договоров.

## Требования

- Java: JDK 17 или выше
- Maven: 3.8.x или выше
- PostgreSQL: 16.x или выше
- IDE: IntelliJ IDEA, Eclipse или аналог (опционально)
- Браузер: Chrome, Firefox или аналог

## Установка
1. Клонирование репозитория
   Если проект находится в репозитории:
```
git clone <url-репозитория>
cd .\axiomatika\
```

Или скопируйте проект в локальную папку.

2. Установка PostgreSQL

   2.1 Установите PostgreSQL:
    - Скачайте и установите PostgreSQL с официального сайта: https://www.postgresql.org/download/.
    - Во время установки задайте пароль для пользователя postgres.
    - Убедитесь, что PostgreSQL запущен (сервис работает на порту 5432 по умолчанию).

   2.2 Проверьте установку:
    ```
    psql --version
    ```
   Ожидаемый вывод: psql (PostgreSQL) 16.x или выше.

3. Настройка базы данных

   3.1 Создайте базу данных:

    * **pgAdmin**: Откройте интерфейс, подключитесь к серверу.
    * **IDE**: Используйте встроенный SQL-клиент (например, в IntelliJ IDEA).

    </br>

    - Создайте базу axiomatika:
    ```
    CREATE DATABASE axiomatika;
    ```

    - Проверьте создание:
    ```
    \l
    ```

   Или в pgAdmin найдите базу в списке.


    3.2 Создайте таблицы:

* После создания базы axiomatika выполните SQL-скрипт sql/create-db.sql:

    * В **pgAdmin**: Откройте Query Tool, выберите базу axiomatika, загрузите и выполните sql/create-db.sql.
    * В **IDE**: Откройте sql/create-db.sql, подключитесь к базе axiomatika, выполните код.

* Скрипт создаст таблицы (client, loan_application, loan_decision, loan_contract) и добавит тестовые данные.


    3.3 Проверьте создание таблиц:

* В pgAdmin/IDE: Проверьте наличие таблиц в базе axiomatika.

4. Настройка приложения

   4.1 Откройте src/main/resources/application.properties:
    ```
    spring.datasource.url=jdbc:postgresql://localhost:5432/axiomatika
    spring.datasource.username=postgres
    spring.datasource.password=ваш_пароль
    ```
   Замените ваш_пароль на ваш пароль PostgreSQL.

5. Сборка и запуск

   5.1 Соберите проект:
    ```
    mvn clean install
    ```
   5.2 Запустите:
    ```
    mvn spring-boot:run
    ```

   5.3 Откройте в браузере:
    ```
    http://localhost:8080
    ```

6. Использование

- Главная страница: Доступ ко всем функциям.
- Создание клиента: Заполните форму (ФИО, паспорт, телефон и т.д.).
- Оформление заявки: Выберите клиента, укажите сумму и цель.
- Решение по заявке: Укажите одобрение, сумму, срок.
- Подписание договора: Подпишите договор для одобренных заявок.
- Поиск и отчеты: Просмотрите списки и выполните поиск.
